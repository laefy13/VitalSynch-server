import{a as dt,u as ft,c as jt,l as Ml,r as _t,m as zl,i as Kt,b as vt,d as Nt,g as Qt,f as Ut,e as Fl,h as Bt,j as Hl}from"./use-key-composition.3ca68c99.js";import{b as Xt,e as Gt,h as Je,u as Yt,v as Il,k as Ne,c as ze,l as Jt,j as Ol,Q as Qe,m as Pl,R as Ll}from"./use-router-link.cd4a8d0e.js";import{u as Rl,o as $l}from"./option-sizes.c128ce7c.js";import{r as H,h as b,j as p,k as fe,a1 as Ae,F as ce,N as Zt,C as we,A as se,a2 as Mt,a3 as Dl,E as Wl,a4 as jl,c as mt,s as ht,z as J,T as at,G as Le,t as zt,D as Kl,v as Nl,H as rt,y as Ql,n as Ul,L as Xl,a5 as Gl,O as Yl,M as Jl,a6 as Zl,a7 as Oe,x as Te,B as en}from"./index.b97f7fcb.js";import{u as el,a as tl,b as ll,c as nl,d as tn,e as ln,g as nn,f as on,n as Ft,Q as un,h as an}from"./QItemSection.45a0d9dc.js";import{c as rn}from"./selection.9064d2eb.js";const jn={...ft,...Yt,...jt,modelValue:{required:!0,default:null},val:{},trueValue:{default:!0},falseValue:{default:!1},indeterminateValue:{default:null},checkedIcon:String,uncheckedIcon:String,indeterminateIcon:String,toggleOrder:{type:String,validator:e=>e==="tf"||e==="ft"},toggleIndeterminate:Boolean,label:String,leftLabel:Boolean,color:String,keepColor:Boolean,dense:Boolean,disable:Boolean,tabindex:[String,Number]},Kn=["update:modelValue"];function Nn(e,n){const{props:l,slots:o,emit:a,proxy:u}=fe(),{$q:r}=u,h=dt(l,r),m=H(null),{refocusTargetEl:y,refocusTarget:s}=Rl(l,m),w=Xt(l,$l),x=b(()=>l.val!==void 0&&Array.isArray(l.modelValue)),c=b(()=>{const V=Ae(l.val);return x.value===!0?l.modelValue.findIndex(j=>Ae(j)===V):-1}),S=b(()=>x.value===!0?c.value>-1:Ae(l.modelValue)===Ae(l.trueValue)),L=b(()=>x.value===!0?c.value===-1:Ae(l.modelValue)===Ae(l.falseValue)),k=b(()=>S.value===!1&&L.value===!1),$=b(()=>l.disable===!0?-1:l.tabindex||0),Q=b(()=>`q-${e} cursor-pointer no-outline row inline no-wrap items-center`+(l.disable===!0?" disabled":"")+(h.value===!0?` q-${e}--dark`:"")+(l.dense===!0?` q-${e}--dense`:"")+(l.leftLabel===!0?" reverse":"")),_=b(()=>{const V=S.value===!0?"truthy":L.value===!0?"falsy":"indet",j=l.color!==void 0&&(l.keepColor===!0||(e==="toggle"?S.value===!0:L.value!==!0))?` text-${l.color}`:"";return`q-${e}__inner relative-position non-selectable q-${e}__inner--${V}${j}`}),B=b(()=>{const V={type:"checkbox"};return l.name!==void 0&&Object.assign(V,{".checked":S.value,"^checked":S.value===!0?"checked":void 0,name:l.name,value:x.value===!0?l.val:l.trueValue}),V}),O=Ml(B),M=b(()=>{const V={tabindex:$.value,role:e==="toggle"?"switch":"checkbox","aria-label":l.label,"aria-checked":k.value===!0?"mixed":S.value===!0?"true":"false"};return l.disable===!0&&(V["aria-disabled"]="true"),V});function z(V){V!==void 0&&(ce(V),s(V)),l.disable!==!0&&a("update:modelValue",D(),V)}function D(){if(x.value===!0){if(S.value===!0){const V=l.modelValue.slice();return V.splice(c.value,1),V}return l.modelValue.concat([l.val])}if(S.value===!0){if(l.toggleOrder!=="ft"||l.toggleIndeterminate===!1)return l.falseValue}else if(L.value===!0){if(l.toggleOrder==="ft"||l.toggleIndeterminate===!1)return l.trueValue}else return l.toggleOrder!=="ft"?l.trueValue:l.falseValue;return l.indeterminateValue}function K(V){(V.keyCode===13||V.keyCode===32)&&ce(V)}function G(V){(V.keyCode===13||V.keyCode===32)&&z(V)}const Y=n(S,k);return Object.assign(u,{toggle:z}),()=>{const V=Y();l.disable!==!0&&O(V,"unshift",` q-${e}__native absolute q-ma-none q-pa-none`);const j=[p("div",{class:_.value,style:w.value,"aria-hidden":"true"},V)];y.value!==null&&j.push(y.value);const te=l.label!==void 0?Gt(o.default,[l.label]):Je(o.default);return te!==void 0&&j.push(p("div",{class:`q-${e}__label q-anchor--skip`},te)),p("div",{ref:m,class:Q.value,...M.value,onClick:z,onKeydown:K,onKeyup:G},j)}}function ol(){let e;const n=fe();function l(){e=void 0}return Zt(l),we(l),{removeTick:l,registerTick(o){e=o,se(()=>{e===o&&(Il(n)===!1&&e(),e=void 0)})}}}const il={transitionShow:{type:String,default:"fade"},transitionHide:{type:String,default:"fade"},transitionDuration:{type:[String,Number],default:300}};function ul(e,n=()=>{},l=()=>{}){return{transitionProps:b(()=>{const o=`q-transition--${e.transitionShow||n()}`,a=`q-transition--${e.transitionHide||l()}`;return{appear:!0,enterFromClass:`${o}-enter-from`,enterActiveClass:`${o}-enter-active`,enterToClass:`${o}-enter-to`,leaveFromClass:`${a}-leave-from`,leaveActiveClass:`${a}-leave-active`,leaveToClass:`${a}-leave-to`}}),transitionStyle:b(()=>`--q-transition-duration: ${e.transitionDuration}ms`)}}let sn=1,cn=document.body;function dn(e,n){const l=document.createElement("div");if(l.id=n!==void 0?`q-portal--${n}--${sn++}`:e,Mt.globalNodes!==void 0){const o=Mt.globalNodes.class;o!==void 0&&(l.className=o)}return cn.appendChild(l),l}function fn(e){e.remove()}const _e=[];function Qn(e){return _e.find(n=>n.contentEl!==null&&n.contentEl.contains(e))}function al(e,n){do{if(e.$options.name==="QMenu"){if(e.hide(n),e.$props.separateClosePopup===!0)return Ne(e)}else if(e.__qPortal===!0){const l=Ne(e);return l!==void 0&&l.$options.name==="QPopupProxy"?(e.hide(n),l):e}e=Ne(e)}while(e!=null)}function Un(e,n,l){for(;l!==0&&e!==void 0&&e!==null;){if(e.__qPortal===!0){if(l--,e.$options.name==="QMenu"){e=al(e,n);continue}e.hide(n)}e=Ne(e)}}function vn(e){for(e=e.parent;e!=null;){if(e.type.name==="QGlobalDialog")return!0;if(e.type.name==="QDialog"||e.type.name==="QMenu")return!1;e=e.parent}return!1}function rl(e,n,l,o){const a=H(!1),u=H(!1);let r=null;const h={},m=o==="dialog"&&vn(e);function y(w){if(w===!0){_t(h),u.value=!0;return}u.value=!1,a.value===!1&&(m===!1&&r===null&&(r=dn(!1,o)),a.value=!0,_e.push(e.proxy),zl(h))}function s(w){if(u.value=!1,w!==!0)return;_t(h),a.value=!1;const x=_e.indexOf(e.proxy);x!==-1&&_e.splice(x,1),r!==null&&(fn(r),r=null)}return Dl(()=>{s(!0)}),e.proxy.__qPortal=!0,Wl(e.proxy,"contentEl",()=>n.value),{showPortal:y,hidePortal:s,portalIsActive:a,portalIsAccessible:u,renderPortal:()=>m===!0?l():a.value===!0?[p(jl,{to:r},l())]:void 0}}const Se=[];let Me;function mn(e){Me=e.keyCode===27}function hn(){Me===!0&&(Me=!1)}function gn(e){Me===!0&&(Me=!1,ht(e,27)===!0&&Se[Se.length-1](e))}function sl(e){window[e]("keydown",mn),window[e]("blur",hn),window[e]("keyup",gn),Me=!1}function cl(e){mt.is.desktop===!0&&(Se.push(e),Se.length===1&&sl("addEventListener"))}function Ue(e){const n=Se.indexOf(e);n>-1&&(Se.splice(n,1),Se.length===0&&sl("removeEventListener"))}const be=[];function dl(e){be[be.length-1](e)}function fl(e){mt.is.desktop===!0&&(be.push(e),be.length===1&&document.body.addEventListener("focusin",dl))}function st(e){const n=be.indexOf(e);n>-1&&(be.splice(n,1),be.length===0&&document.body.removeEventListener("focusin",dl))}let Ke=0;const Sn={standard:"fixed-full flex-center",top:"fixed-top justify-center",bottom:"fixed-bottom justify-center",right:"fixed-right items-center",left:"fixed-left items-center"},Ht={standard:["scale","scale"],top:["slide-down","slide-up"],bottom:["slide-up","slide-down"],right:["slide-left","slide-right"],left:["slide-right","slide-left"]};var bn=ze({name:"QDialog",inheritAttrs:!1,props:{...el,...il,transitionShow:String,transitionHide:String,persistent:Boolean,autoClose:Boolean,allowFocusOutside:Boolean,noEscDismiss:Boolean,noBackdropDismiss:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,noShake:Boolean,seamless:Boolean,maximized:Boolean,fullWidth:Boolean,fullHeight:Boolean,square:Boolean,position:{type:String,default:"standard",validator:e=>e==="standard"||["top","bottom","left","right"].includes(e)}},emits:[...tl,"shake","click","escapeKey"],setup(e,{slots:n,emit:l,attrs:o}){const a=fe(),u=H(null),r=H(!1),h=H(!1);let m=null,y=null,s,w;const x=b(()=>e.persistent!==!0&&e.noRouteDismiss!==!0&&e.seamless!==!0),{preventBodyScroll:c}=ln(),{registerTimeout:S}=ll(),{registerTick:L,removeTick:k}=ol(),{transitionProps:$,transitionStyle:Q}=ul(e,()=>Ht[e.position][0],()=>Ht[e.position][1]),{showPortal:_,hidePortal:B,portalIsAccessible:O,renderPortal:M}=rl(a,u,F,"dialog"),{hide:z}=nl({showing:r,hideOnRouteChange:x,handleShow:te,handleHide:ie,processOnMount:!0}),{addToHistory:D,removeFromHistory:K}=tn(r,z,x),G=b(()=>`q-dialog__inner flex no-pointer-events q-dialog__inner--${e.maximized===!0?"maximized":"minimized"} q-dialog__inner--${e.position} ${Sn[e.position]}`+(h.value===!0?" q-dialog__inner--animating":"")+(e.fullWidth===!0?" q-dialog__inner--fullwidth":"")+(e.fullHeight===!0?" q-dialog__inner--fullheight":"")+(e.square===!0?" q-dialog__inner--square":"")),Y=b(()=>r.value===!0&&e.seamless!==!0),V=b(()=>e.autoClose===!0?{onClick:i}:{}),j=b(()=>[`q-dialog fullscreen no-pointer-events q-dialog--${Y.value===!0?"modal":"seamless"}`,o.class]);J(()=>e.maximized,C=>{r.value===!0&&ne(C)}),J(Y,C=>{c(C),C===!0?(fl(A),cl(le)):(st(A),Ue(le))});function te(C){D(),y=e.noRefocus===!1&&document.activeElement!==null?document.activeElement:null,ne(e.maximized),_(),h.value=!0,e.noFocus!==!0?(document.activeElement!==null&&document.activeElement.blur(),L(N)):k(),S(()=>{if(a.proxy.$q.platform.is.ios===!0){if(e.seamless!==!0&&document.activeElement){const{top:q,bottom:E}=document.activeElement.getBoundingClientRect(),{innerHeight:R}=window,d=window.visualViewport!==void 0?window.visualViewport.height:R;q>0&&E>d/2&&(document.scrollingElement.scrollTop=Math.min(document.scrollingElement.scrollHeight-d,E>=R?1/0:Math.ceil(document.scrollingElement.scrollTop+E-d/2))),document.activeElement.scrollIntoView()}w=!0,u.value.click(),w=!1}_(!0),h.value=!1,l("show",C)},e.transitionDuration)}function ie(C){k(),K(),Z(!0),h.value=!0,B(),y!==null&&(((C&&C.type.indexOf("key")===0?y.closest('[tabindex]:not([tabindex^="-"])'):void 0)||y).focus(),y=null),S(()=>{B(!0),h.value=!1,l("hide",C)},e.transitionDuration)}function N(C){Kt(()=>{let q=u.value;q===null||q.contains(document.activeElement)===!0||(q=(C!==""?q.querySelector(C):null)||q.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||q.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||q.querySelector("[autofocus], [data-autofocus]")||q,q.focus({preventScroll:!0}))})}function de(C){C&&typeof C.focus=="function"?C.focus({preventScroll:!0}):N(),l("shake");const q=u.value;q!==null&&(q.classList.remove("q-animate--scale"),q.classList.add("q-animate--scale"),m!==null&&clearTimeout(m),m=setTimeout(()=>{m=null,u.value!==null&&(q.classList.remove("q-animate--scale"),N())},170))}function le(){e.seamless!==!0&&(e.persistent===!0||e.noEscDismiss===!0?e.maximized!==!0&&e.noShake!==!0&&de():(l("escapeKey"),z()))}function Z(C){m!==null&&(clearTimeout(m),m=null),(C===!0||r.value===!0)&&(ne(!1),e.seamless!==!0&&(c(!1),st(A),Ue(le))),C!==!0&&(y=null)}function ne(C){C===!0?s!==!0&&(Ke<1&&document.body.classList.add("q-body--dialog"),Ke++,s=!0):s===!0&&(Ke<2&&document.body.classList.remove("q-body--dialog"),Ke--,s=!1)}function i(C){w!==!0&&(z(C),l("click",C))}function v(C){e.persistent!==!0&&e.noBackdropDismiss!==!0?z(C):e.noShake!==!0&&de()}function A(C){e.allowFocusOutside!==!0&&O.value===!0&&Jt(u.value,C.target)!==!0&&N('[tabindex]:not([tabindex="-1"])')}Object.assign(a.proxy,{focus:N,shake:de,__updateRefocusTarget(C){y=C||null}}),we(Z);function F(){return p("div",{role:"dialog","aria-modal":Y.value===!0?"true":"false",...o,class:j.value},[p(at,{name:"q-transition--fade",appear:!0},()=>Y.value===!0?p("div",{class:"q-dialog__backdrop fixed-full",style:Q.value,"aria-hidden":"true",tabindex:-1,onClick:v}):null),p(at,$.value,()=>r.value===!0?p("div",{ref:u,class:G.value,style:Q.value,tabindex:-1,...V.value},Je(n.default)):null)])}return M}});const yn={target:{default:!0},noParentEvent:Boolean,contextMenu:Boolean};function wn({showing:e,avoidEmit:n,configureAnchorEl:l}){const{props:o,proxy:a,emit:u}=fe(),r=H(null);let h=null;function m(c){return r.value===null?!1:c===void 0||c.touches===void 0||c.touches.length<=1}const y={};l===void 0&&(Object.assign(y,{hide(c){a.hide(c)},toggle(c){a.toggle(c),c.qAnchorHandled=!0},toggleKey(c){ht(c,13)===!0&&y.toggle(c)},contextClick(c){a.hide(c),Le(c),se(()=>{a.show(c),c.qAnchorHandled=!0})},prevent:Le,mobileTouch(c){if(y.mobileCleanup(c),m(c)!==!0)return;a.hide(c),r.value.classList.add("non-selectable");const S=c.target;zt(y,"anchor",[[S,"touchmove","mobileCleanup","passive"],[S,"touchend","mobileCleanup","passive"],[S,"touchcancel","mobileCleanup","passive"],[r.value,"contextmenu","prevent","notPassive"]]),h=setTimeout(()=>{h=null,a.show(c),c.qAnchorHandled=!0},300)},mobileCleanup(c){r.value.classList.remove("non-selectable"),h!==null&&(clearTimeout(h),h=null),e.value===!0&&c!==void 0&&rn()}}),l=function(c=o.contextMenu){if(o.noParentEvent===!0||r.value===null)return;let S;c===!0?a.$q.platform.is.mobile===!0?S=[[r.value,"touchstart","mobileTouch","passive"]]:S=[[r.value,"mousedown","hide","passive"],[r.value,"contextmenu","contextClick","notPassive"]]:S=[[r.value,"click","toggle","passive"],[r.value,"keyup","toggleKey","passive"]],zt(y,"anchor",S)});function s(){Nl(y,"anchor")}function w(c){for(r.value=c;r.value.classList.contains("q-anchor--skip");)r.value=r.value.parentNode;l()}function x(){if(o.target===!1||o.target===""||a.$el.parentNode===null)r.value=null;else if(o.target===!0)w(a.$el.parentNode);else{let c=o.target;if(typeof o.target=="string")try{c=document.querySelector(o.target)}catch{c=void 0}c!=null?(r.value=c.$el||c,l()):(r.value=null,console.error(`Anchor: target "${o.target}" not found`))}}return J(()=>o.contextMenu,c=>{r.value!==null&&(s(),l(c))}),J(()=>o.target,()=>{r.value!==null&&s(),x()}),J(()=>o.noParentEvent,c=>{r.value!==null&&(c===!0?s():l())}),Kl(()=>{x(),n!==!0&&o.modelValue===!0&&r.value===null&&u("update:modelValue",!1)}),we(()=>{h!==null&&clearTimeout(h),s()}),{anchorEl:r,canShow:m,anchorEvents:y}}function xn(e,n){const l=H(null);let o;function a(h,m){const y=`${m!==void 0?"add":"remove"}EventListener`,s=m!==void 0?m:o;h!==window&&h[y]("scroll",s,rt.passive),window[y]("scroll",s,rt.passive),o=m}function u(){l.value!==null&&(a(l.value),l.value=null)}const r=J(()=>e.noParentEvent,()=>{l.value!==null&&(u(),n())});return we(r),{localScrollTarget:l,unconfigureScrollTarget:u,changeScrollEvent:a}}const{notPassiveCapture:Xe}=rt,ye=[];function Ge(e){const n=e.target;if(n===void 0||n.nodeType===8||n.classList.contains("no-pointer-events")===!0)return;let l=_e.length-1;for(;l>=0;){const o=_e[l].$;if(o.type.name==="QTooltip"){l--;continue}if(o.type.name!=="QDialog")break;if(o.props.seamless!==!0)return;l--}for(let o=ye.length-1;o>=0;o--){const a=ye[o];if((a.anchorEl.value===null||a.anchorEl.value.contains(n)===!1)&&(n===document.body||a.innerRef.value!==null&&a.innerRef.value.contains(n)===!1))e.qClickOutside=!0,a.onClickOutside(e);else return}}function Cn(e){ye.push(e),ye.length===1&&(document.addEventListener("mousedown",Ge,Xe),document.addEventListener("touchstart",Ge,Xe))}function It(e){const n=ye.findIndex(l=>l===e);n>-1&&(ye.splice(n,1),ye.length===0&&(document.removeEventListener("mousedown",Ge,Xe),document.removeEventListener("touchstart",Ge,Xe)))}let Ot,Pt;function Lt(e){const n=e.split(" ");return n.length!==2?!1:["top","center","bottom"].includes(n[0])!==!0?(console.error("Anchor/Self position must start with one of top/center/bottom"),!1):["left","middle","right","start","end"].includes(n[1])!==!0?(console.error("Anchor/Self position must end with one of left/middle/right/start/end"),!1):!0}function kn(e){return e?!(e.length!==2||typeof e[0]!="number"||typeof e[1]!="number"):!0}const ct={"start#ltr":"left","start#rtl":"right","end#ltr":"right","end#rtl":"left"};["left","middle","right"].forEach(e=>{ct[`${e}#ltr`]=e,ct[`${e}#rtl`]=e});function Rt(e,n){const l=e.split(" ");return{vertical:l[0],horizontal:ct[`${l[1]}#${n===!0?"rtl":"ltr"}`]}}function qn(e,n){let{top:l,left:o,right:a,bottom:u,width:r,height:h}=e.getBoundingClientRect();return n!==void 0&&(l-=n[1],o-=n[0],u+=n[1],a+=n[0],r+=n[0],h+=n[1]),{top:l,bottom:u,height:h,left:o,right:a,width:r,middle:o+(a-o)/2,center:l+(u-l)/2}}function Vn(e,n,l){let{top:o,left:a}=e.getBoundingClientRect();return o+=n.top,a+=n.left,l!==void 0&&(o+=l[1],a+=l[0]),{top:o,bottom:o+1,height:1,left:a,right:a+1,width:1,middle:a,center:o}}function pn(e,n){return{top:0,center:n/2,bottom:n,left:0,middle:e/2,right:e}}function $t(e,n,l,o){return{top:e[l.vertical]-n[o.vertical],left:e[l.horizontal]-n[o.horizontal]}}function vl(e,n=0){if(e.targetEl===null||e.anchorEl===null||n>5)return;if(e.targetEl.offsetHeight===0||e.targetEl.offsetWidth===0){setTimeout(()=>{vl(e,n+1)},10);return}const{targetEl:l,offset:o,anchorEl:a,anchorOrigin:u,selfOrigin:r,absoluteOffset:h,fit:m,cover:y,maxHeight:s,maxWidth:w}=e;if(mt.is.ios===!0&&window.visualViewport!==void 0){const M=document.body.style,{offsetLeft:z,offsetTop:D}=window.visualViewport;z!==Ot&&(M.setProperty("--q-pe-left",z+"px"),Ot=z),D!==Pt&&(M.setProperty("--q-pe-top",D+"px"),Pt=D)}const{scrollLeft:x,scrollTop:c}=l,S=h===void 0?qn(a,y===!0?[0,0]:o):Vn(a,h,o);Object.assign(l.style,{top:0,left:0,minWidth:null,minHeight:null,maxWidth:w||"100vw",maxHeight:s||"100vh",visibility:"visible"});const{offsetWidth:L,offsetHeight:k}=l,{elWidth:$,elHeight:Q}=m===!0||y===!0?{elWidth:Math.max(S.width,L),elHeight:y===!0?Math.max(S.height,k):k}:{elWidth:L,elHeight:k};let _={maxWidth:w,maxHeight:s};(m===!0||y===!0)&&(_.minWidth=S.width+"px",y===!0&&(_.minHeight=S.height+"px")),Object.assign(l.style,_);const B=pn($,Q);let O=$t(S,B,u,r);if(h===void 0||o===void 0)it(O,S,B,u,r);else{const{top:M,left:z}=O;it(O,S,B,u,r);let D=!1;if(O.top!==M){D=!0;const K=2*o[1];S.center=S.top-=K,S.bottom-=K+2}if(O.left!==z){D=!0;const K=2*o[0];S.middle=S.left-=K,S.right-=K+2}D===!0&&(O=$t(S,B,u,r),it(O,S,B,u,r))}_={top:O.top+"px",left:O.left+"px"},O.maxHeight!==void 0&&(_.maxHeight=O.maxHeight+"px",S.height>O.maxHeight&&(_.minHeight=_.maxHeight)),O.maxWidth!==void 0&&(_.maxWidth=O.maxWidth+"px",S.width>O.maxWidth&&(_.minWidth=_.maxWidth)),Object.assign(l.style,_),l.scrollTop!==c&&(l.scrollTop=c),l.scrollLeft!==x&&(l.scrollLeft=x)}function it(e,n,l,o,a){const u=l.bottom,r=l.right,h=nn(),m=window.innerHeight-h,y=document.body.clientWidth;if(e.top<0||e.top+u>m)if(a.vertical==="center")e.top=n[o.vertical]>m/2?Math.max(0,m-u):0,e.maxHeight=Math.min(u,m);else if(n[o.vertical]>m/2){const s=Math.min(m,o.vertical==="center"?n.center:o.vertical===a.vertical?n.bottom:n.top);e.maxHeight=Math.min(u,s),e.top=Math.max(0,s-u)}else e.top=Math.max(0,o.vertical==="center"?n.center:o.vertical===a.vertical?n.top:n.bottom),e.maxHeight=Math.min(u,m-e.top);if(e.left<0||e.left+r>y)if(e.maxWidth=Math.min(r,y),a.horizontal==="middle")e.left=n[o.horizontal]>y/2?Math.max(0,y-r):0;else if(n[o.horizontal]>y/2){const s=Math.min(y,o.horizontal==="middle"?n.middle:o.horizontal===a.horizontal?n.right:n.left);e.maxWidth=Math.min(r,s),e.left=Math.max(0,s-e.maxWidth)}else e.left=Math.max(0,o.horizontal==="middle"?n.middle:o.horizontal===a.horizontal?n.left:n.right),e.maxWidth=Math.min(r,y-e.left)}var En=ze({name:"QMenu",inheritAttrs:!1,props:{...yn,...el,...ft,...il,persistent:Boolean,autoClose:Boolean,separateClosePopup:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,fit:Boolean,cover:Boolean,square:Boolean,anchor:{type:String,validator:Lt},self:{type:String,validator:Lt},offset:{type:Array,validator:kn},scrollTarget:{default:void 0},touchPosition:Boolean,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null}},emits:[...tl,"click","escapeKey"],setup(e,{slots:n,emit:l,attrs:o}){let a=null,u,r,h;const m=fe(),{proxy:y}=m,{$q:s}=y,w=H(null),x=H(!1),c=b(()=>e.persistent!==!0&&e.noRouteDismiss!==!0),S=dt(e,s),{registerTick:L,removeTick:k}=ol(),{registerTimeout:$}=ll(),{transitionProps:Q,transitionStyle:_}=ul(e),{localScrollTarget:B,changeScrollEvent:O,unconfigureScrollTarget:M}=xn(e,A),{anchorEl:z,canShow:D}=wn({showing:x}),{hide:K}=nl({showing:x,canShow:D,handleShow:ne,handleHide:i,hideOnRouteChange:c,processOnMount:!0}),{showPortal:G,hidePortal:Y,renderPortal:V}=rl(m,w,R,"menu"),j={anchorEl:z,innerRef:w,onClickOutside(d){if(e.persistent!==!0&&x.value===!0)return K(d),(d.type==="touchstart"||d.target.classList.contains("q-dialog__backdrop"))&&ce(d),!0}},te=b(()=>Rt(e.anchor||(e.cover===!0?"center middle":"bottom start"),s.lang.rtl)),ie=b(()=>e.cover===!0?te.value:Rt(e.self||"top start",s.lang.rtl)),N=b(()=>(e.square===!0?" q-menu--square":"")+(S.value===!0?" q-menu--dark q-dark":"")),de=b(()=>e.autoClose===!0?{onClick:F}:{}),le=b(()=>x.value===!0&&e.persistent!==!0);J(le,d=>{d===!0?(cl(q),Cn(j)):(Ue(q),It(j))});function Z(){Kt(()=>{let d=w.value;d&&d.contains(document.activeElement)!==!0&&(d=d.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||d.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||d.querySelector("[autofocus], [data-autofocus]")||d,d.focus({preventScroll:!0}))})}function ne(d){if(a=e.noRefocus===!1?document.activeElement:null,fl(C),G(),A(),u=void 0,d!==void 0&&(e.touchPosition||e.contextMenu)){const U=Ql(d);if(U.left!==void 0){const{top:ue,left:xe}=z.value.getBoundingClientRect();u={left:U.left-xe,top:U.top-ue}}}r===void 0&&(r=J(()=>s.screen.width+"|"+s.screen.height+"|"+e.self+"|"+e.anchor+"|"+s.lang.rtl,E)),e.noFocus!==!0&&document.activeElement.blur(),L(()=>{E(),e.noFocus!==!0&&Z()}),$(()=>{s.platform.is.ios===!0&&(h=e.autoClose,w.value.click()),E(),G(!0),l("show",d)},e.transitionDuration)}function i(d){k(),Y(),v(!0),a!==null&&(d===void 0||d.qClickOutside!==!0)&&(((d&&d.type.indexOf("key")===0?a.closest('[tabindex]:not([tabindex^="-"])'):void 0)||a).focus(),a=null),$(()=>{Y(!0),l("hide",d)},e.transitionDuration)}function v(d){u=void 0,r!==void 0&&(r(),r=void 0),(d===!0||x.value===!0)&&(st(C),M(),It(j),Ue(q)),d!==!0&&(a=null)}function A(){(z.value!==null||e.scrollTarget!==void 0)&&(B.value=on(z.value,e.scrollTarget),O(B.value,E))}function F(d){h!==!0?(al(y,d),l("click",d)):h=!1}function C(d){le.value===!0&&e.noFocus!==!0&&Jt(w.value,d.target)!==!0&&Z()}function q(d){l("escapeKey"),K(d)}function E(){vl({targetEl:w.value,offset:e.offset,anchorEl:z.value,anchorOrigin:te.value,selfOrigin:ie.value,absoluteOffset:u,fit:e.fit,cover:e.cover,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function R(){return p(at,Q.value,()=>x.value===!0?p("div",{role:"menu",...o,ref:w,tabindex:-1,class:["q-menu q-position-engine scroll"+N.value,o.class],style:[o.style,_.value],...de.value},Je(n.default)):null)}return we(v),Object.assign(y,{focus:Z,updatePosition:E}),V}}),An=ze({name:"QField",inheritAttrs:!1,props:{...vt,tag:{type:String,default:"label"}},emits:Nt,setup(){return Qt(Ut({requiredForAttr:!1,tagProp:!0}))}});const Tn={xs:8,sm:10,md:14,lg:20,xl:24};var _n=ze({name:"QChip",props:{...ft,...Yt,dense:Boolean,icon:String,iconRight:String,iconRemove:String,iconSelected:String,label:[String,Number],color:String,textColor:String,modelValue:{type:Boolean,default:!0},selected:{type:Boolean,default:null},square:Boolean,outline:Boolean,clickable:Boolean,removable:Boolean,removeAriaLabel:String,tabindex:[String,Number],disable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","update:selected","remove","click"],setup(e,{slots:n,emit:l}){const{proxy:{$q:o}}=fe(),a=dt(e,o),u=Xt(e,Tn),r=b(()=>e.selected===!0||e.icon!==void 0),h=b(()=>e.selected===!0?e.iconSelected||o.iconSet.chip.selected:e.icon),m=b(()=>e.iconRemove||o.iconSet.chip.remove),y=b(()=>e.disable===!1&&(e.clickable===!0||e.selected!==null)),s=b(()=>{const k=e.outline===!0&&e.color||e.textColor;return"q-chip row inline no-wrap items-center"+(e.outline===!1&&e.color!==void 0?` bg-${e.color}`:"")+(k?` text-${k} q-chip--colored`:"")+(e.disable===!0?" disabled":"")+(e.dense===!0?" q-chip--dense":"")+(e.outline===!0?" q-chip--outline":"")+(e.selected===!0?" q-chip--selected":"")+(y.value===!0?" q-chip--clickable cursor-pointer non-selectable q-hoverable":"")+(e.square===!0?" q-chip--square":"")+(a.value===!0?" q-chip--dark q-dark":"")}),w=b(()=>{const k=e.disable===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:e.tabindex||0},$={...k,role:"button","aria-hidden":"false","aria-label":e.removeAriaLabel||o.lang.label.remove};return{chip:k,remove:$}});function x(k){k.keyCode===13&&c(k)}function c(k){e.disable||(l("update:selected",!e.selected),l("click",k))}function S(k){(k.keyCode===void 0||k.keyCode===13)&&(ce(k),e.disable===!1&&(l("update:modelValue",!1),l("remove")))}function L(){const k=[];y.value===!0&&k.push(p("div",{class:"q-focus-helper"})),r.value===!0&&k.push(p(Qe,{class:"q-chip__icon q-chip__icon--left",name:h.value}));const $=e.label!==void 0?[p("div",{class:"ellipsis"},[e.label])]:void 0;return k.push(p("div",{class:"q-chip__content col row no-wrap items-center q-anchor--skip"},Pl(n.default,$))),e.iconRight&&k.push(p(Qe,{class:"q-chip__icon q-chip__icon--right",name:e.iconRight})),e.removable===!0&&k.push(p(Qe,{class:"q-chip__icon q-chip__icon--remove cursor-pointer",name:m.value,...w.value.remove,onClick:S,onKeyup:S})),k}return()=>{if(e.modelValue===!1)return;const k={class:s.value,style:u.value};return y.value===!0&&Object.assign(k,w.value.chip,{onClick:c,onKeyup:x}),Ol("div",k,L(),"ripple",e.ripple!==!1&&e.disable!==!0,()=>[[Ll,e.ripple]])}}}),Bn=ze({name:"QItemLabel",props:{overline:Boolean,caption:Boolean,header:Boolean,lines:[Number,String]},setup(e,{slots:n}){const l=b(()=>parseInt(e.lines,10)),o=b(()=>"q-item__label"+(e.overline===!0?" q-item__label--overline text-overline":"")+(e.caption===!0?" q-item__label--caption text-caption":"")+(e.header===!0?" q-item__label--header":"")+(l.value===1?" ellipsis":"")),a=b(()=>e.lines!==void 0&&l.value>1?{overflow:"hidden",display:"-webkit-box","-webkit-box-orient":"vertical","-webkit-line-clamp":l.value}:null);return()=>p("div",{style:a.value,class:o.value},Je(n.default))}});let Ye=!1;{const e=document.createElement("div");e.setAttribute("dir","rtl"),Object.assign(e.style,{width:"1px",height:"1px",overflow:"auto"});const n=document.createElement("div");Object.assign(n.style,{width:"1000px",height:"1px"}),document.body.appendChild(e),e.appendChild(n),e.scrollLeft=-1e3,Ye=e.scrollLeft>=0,e.remove()}const oe=1e3,Mn=["start","center","end","start-force","center-force","end-force"],ml=Array.prototype.filter,zn=window.getComputedStyle(document.body).overflowAnchor===void 0?Ul:function(e,n){e!==null&&(e._qOverflowAnimationFrame!==void 0&&cancelAnimationFrame(e._qOverflowAnimationFrame),e._qOverflowAnimationFrame=requestAnimationFrame(()=>{if(e===null)return;e._qOverflowAnimationFrame=void 0;const l=e.children||[];ml.call(l,a=>a.dataset&&a.dataset.qVsAnchor!==void 0).forEach(a=>{delete a.dataset.qVsAnchor});const o=l[n];o&&o.dataset&&(o.dataset.qVsAnchor="")}))};function Be(e,n){return e+n}function ut(e,n,l,o,a,u,r,h){const m=e===window?document.scrollingElement||document.documentElement:e,y=a===!0?"offsetWidth":"offsetHeight",s={scrollStart:0,scrollViewSize:-r-h,scrollMaxSize:0,offsetStart:-r,offsetEnd:-h};if(a===!0?(e===window?(s.scrollStart=window.pageXOffset||window.scrollX||document.body.scrollLeft||0,s.scrollViewSize+=document.documentElement.clientWidth):(s.scrollStart=m.scrollLeft,s.scrollViewSize+=m.clientWidth),s.scrollMaxSize=m.scrollWidth,u===!0&&(s.scrollStart=(Ye===!0?s.scrollMaxSize-s.scrollViewSize:0)-s.scrollStart)):(e===window?(s.scrollStart=window.pageYOffset||window.scrollY||document.body.scrollTop||0,s.scrollViewSize+=document.documentElement.clientHeight):(s.scrollStart=m.scrollTop,s.scrollViewSize+=m.clientHeight),s.scrollMaxSize=m.scrollHeight),l!==null)for(let w=l.previousElementSibling;w!==null;w=w.previousElementSibling)w.classList.contains("q-virtual-scroll--skip")===!1&&(s.offsetStart+=w[y]);if(o!==null)for(let w=o.nextElementSibling;w!==null;w=w.nextElementSibling)w.classList.contains("q-virtual-scroll--skip")===!1&&(s.offsetEnd+=w[y]);if(n!==e){const w=m.getBoundingClientRect(),x=n.getBoundingClientRect();a===!0?(s.offsetStart+=x.left-w.left,s.offsetEnd-=x.width):(s.offsetStart+=x.top-w.top,s.offsetEnd-=x.height),e!==window&&(s.offsetStart+=s.scrollStart),s.offsetEnd+=s.scrollMaxSize-s.offsetStart}return s}function Dt(e,n,l,o){n==="end"&&(n=(e===window?document.body:e)[l===!0?"scrollWidth":"scrollHeight"]),e===window?l===!0?(o===!0&&(n=(Ye===!0?document.body.scrollWidth-document.documentElement.clientWidth:0)-n),window.scrollTo(n,window.pageYOffset||window.scrollY||document.body.scrollTop||0)):window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,n):l===!0?(o===!0&&(n=(Ye===!0?e.scrollWidth-e.offsetWidth:0)-n),e.scrollLeft=n):e.scrollTop=n}function Pe(e,n,l,o){if(l>=o)return 0;const a=n.length,u=Math.floor(l/oe),r=Math.floor((o-1)/oe)+1;let h=e.slice(u,r).reduce(Be,0);return l%oe!==0&&(h-=n.slice(u*oe,l).reduce(Be,0)),o%oe!==0&&o!==a&&(h-=n.slice(o,r*oe).reduce(Be,0)),h}const hl={virtualScrollSliceSize:{type:[Number,String],default:null},virtualScrollSliceRatioBefore:{type:[Number,String],default:1},virtualScrollSliceRatioAfter:{type:[Number,String],default:1},virtualScrollItemSize:{type:[Number,String],default:24},virtualScrollStickySizeStart:{type:[Number,String],default:0},virtualScrollStickySizeEnd:{type:[Number,String],default:0},tableColspan:[Number,String]},Xn=Object.keys(hl),Fn={virtualScrollHorizontal:Boolean,onVirtualScroll:Function,...hl};function Hn({virtualScrollLength:e,getVirtualScrollTarget:n,getVirtualScrollEl:l,virtualScrollItemSizeComputed:o}){const a=fe(),{props:u,emit:r,proxy:h}=a,{$q:m}=h;let y,s,w,x=[],c;const S=H(0),L=H(0),k=H({}),$=H(null),Q=H(null),_=H(null),B=H({from:0,to:0}),O=b(()=>u.tableColspan!==void 0?u.tableColspan:100);o===void 0&&(o=b(()=>u.virtualScrollItemSize));const M=b(()=>o.value+";"+u.virtualScrollHorizontal),z=b(()=>M.value+";"+u.virtualScrollSliceRatioBefore+";"+u.virtualScrollSliceRatioAfter);J(z,()=>{N()}),J(M,D);function D(){ie(s,!0)}function K(i){ie(i===void 0?s:i)}function G(i,v){const A=n();if(A==null||A.nodeType===8)return;const F=ut(A,l(),$.value,Q.value,u.virtualScrollHorizontal,m.lang.rtl,u.virtualScrollStickySizeStart,u.virtualScrollStickySizeEnd);w!==F.scrollViewSize&&N(F.scrollViewSize),V(A,F,Math.min(e.value-1,Math.max(0,parseInt(i,10)||0)),0,Mn.indexOf(v)>-1?v:s>-1&&i>s?"end":"start")}function Y(){const i=n();if(i==null||i.nodeType===8)return;const v=ut(i,l(),$.value,Q.value,u.virtualScrollHorizontal,m.lang.rtl,u.virtualScrollStickySizeStart,u.virtualScrollStickySizeEnd),A=e.value-1,F=v.scrollMaxSize-v.offsetStart-v.offsetEnd-L.value;if(y===v.scrollStart)return;if(v.scrollMaxSize<=0){V(i,v,0,0);return}w!==v.scrollViewSize&&N(v.scrollViewSize),j(B.value.from);const C=Math.floor(v.scrollMaxSize-Math.max(v.scrollViewSize,v.offsetEnd)-Math.min(c[A],v.scrollViewSize/2));if(C>0&&Math.ceil(v.scrollStart)>=C){V(i,v,A,v.scrollMaxSize-v.offsetEnd-x.reduce(Be,0));return}let q=0,E=v.scrollStart-v.offsetStart,R=E;if(E<=F&&E+v.scrollViewSize>=S.value)E-=S.value,q=B.value.from,R=E;else for(let d=0;E>=x[d]&&q<A;d++)E-=x[d],q+=oe;for(;E>0&&q<A;)E-=c[q],E>-v.scrollViewSize?(q++,R=E):R=c[q]+E;V(i,v,q,R)}function V(i,v,A,F,C){const q=typeof C=="string"&&C.indexOf("-force")>-1,E=q===!0?C.replace("-force",""):C,R=E!==void 0?E:"start";let d=Math.max(0,A-k.value[R]),U=d+k.value.total;U>e.value&&(U=e.value,d=Math.max(0,U-k.value.total)),y=v.scrollStart;const ue=d!==B.value.from||U!==B.value.to;if(ue===!1&&E===void 0){le(A);return}const{activeElement:xe}=document,ae=_.value;ue===!0&&ae!==null&&ae!==xe&&ae.contains(xe)===!0&&(ae.addEventListener("focusout",te),setTimeout(()=>{ae!==null&&ae.removeEventListener("focusout",te)})),zn(ae,A-d);const Re=E!==void 0?c.slice(d,A).reduce(Be,0):0;if(ue===!0){const ve=U>=B.value.from&&d<=B.value.to?B.value.to:U;B.value={from:d,to:ve},S.value=Pe(x,c,0,d),L.value=Pe(x,c,U,e.value),requestAnimationFrame(()=>{B.value.to!==U&&y===v.scrollStart&&(B.value={from:B.value.from,to:U},L.value=Pe(x,c,U,e.value))})}requestAnimationFrame(()=>{if(y!==v.scrollStart)return;ue===!0&&j(d);const ve=c.slice(d,A).reduce(Be,0),me=ve+v.offsetStart+S.value,$e=me+c[A];let Fe=me+F;if(E!==void 0){const Ze=ve-Re,He=v.scrollStart+Ze;Fe=q!==!0&&He<me&&$e<He+v.scrollViewSize?He:E==="end"?$e-v.scrollViewSize:me-(E==="start"?0:Math.round((v.scrollViewSize-c[A])/2))}y=Fe,Dt(i,Fe,u.virtualScrollHorizontal,m.lang.rtl),le(A)})}function j(i){const v=_.value;if(v){const A=ml.call(v.children,d=>d.classList&&d.classList.contains("q-virtual-scroll--skip")===!1),F=A.length,C=u.virtualScrollHorizontal===!0?d=>d.getBoundingClientRect().width:d=>d.offsetHeight;let q=i,E,R;for(let d=0;d<F;){for(E=C(A[d]),d++;d<F&&A[d].classList.contains("q-virtual-scroll--with-prev")===!0;)E+=C(A[d]),d++;R=E-c[q],R!==0&&(c[q]+=R,x[Math.floor(q/oe)]+=R),q++}}}function te(){_.value!==null&&_.value!==void 0&&_.value.focus()}function ie(i,v){const A=1*o.value;(v===!0||Array.isArray(c)===!1)&&(c=[]);const F=c.length;c.length=e.value;for(let q=e.value-1;q>=F;q--)c[q]=A;const C=Math.floor((e.value-1)/oe);x=[];for(let q=0;q<=C;q++){let E=0;const R=Math.min((q+1)*oe,e.value);for(let d=q*oe;d<R;d++)E+=c[d];x.push(E)}s=-1,y=void 0,S.value=Pe(x,c,0,B.value.from),L.value=Pe(x,c,B.value.to,e.value),i>=0?(j(B.value.from),se(()=>{G(i)})):Z()}function N(i){if(i===void 0&&typeof window!="undefined"){const E=n();E!=null&&E.nodeType!==8&&(i=ut(E,l(),$.value,Q.value,u.virtualScrollHorizontal,m.lang.rtl,u.virtualScrollStickySizeStart,u.virtualScrollStickySizeEnd).scrollViewSize)}w=i;const v=parseFloat(u.virtualScrollSliceRatioBefore)||0,A=parseFloat(u.virtualScrollSliceRatioAfter)||0,F=1+v+A,C=i===void 0||i<=0?1:Math.ceil(i/o.value),q=Math.max(1,C,Math.ceil((u.virtualScrollSliceSize>0?u.virtualScrollSliceSize:10)/F));k.value={total:Math.ceil(q*F),start:Math.ceil(q*v),center:Math.ceil(q*(.5+v)),end:Math.ceil(q*(1+v)),view:C}}function de(i,v){const A=u.virtualScrollHorizontal===!0?"width":"height",F={["--q-virtual-scroll-item-"+A]:o.value+"px"};return[i==="tbody"?p(i,{class:"q-virtual-scroll__padding",key:"before",ref:$},[p("tr",[p("td",{style:{[A]:`${S.value}px`,...F},colspan:O.value})])]):p(i,{class:"q-virtual-scroll__padding",key:"before",ref:$,style:{[A]:`${S.value}px`,...F}}),p(i,{class:"q-virtual-scroll__content",key:"content",ref:_,tabindex:-1},v.flat()),i==="tbody"?p(i,{class:"q-virtual-scroll__padding",key:"after",ref:Q},[p("tr",[p("td",{style:{[A]:`${L.value}px`,...F},colspan:O.value})])]):p(i,{class:"q-virtual-scroll__padding",key:"after",ref:Q,style:{[A]:`${L.value}px`,...F}})]}function le(i){s!==i&&(u.onVirtualScroll!==void 0&&r("virtualScroll",{index:i,from:B.value.from,to:B.value.to-1,direction:i<s?"decrease":"increase",ref:h}),s=i)}N();const Z=Xl(Y,m.platform.is.ios===!0?120:35);Gl(()=>{N()});let ne=!1;return Zt(()=>{ne=!0}),Yl(()=>{if(ne!==!0)return;const i=n();y!==void 0&&i!==void 0&&i!==null&&i.nodeType!==8?Dt(i,y,u.virtualScrollHorizontal,m.lang.rtl):G(s)}),we(()=>{Z.cancel()}),Object.assign(h,{scrollTo:G,reset:D,refresh:K}),{virtualScrollSliceRange:B,virtualScrollSliceSizeComputed:k,setVirtualScrollSize:N,onVirtualScrollEvt:Z,localResetVirtualScroll:ie,padVirtualScroll:de,scrollTo:G,reset:D,refresh:K}}const Wt=e=>["add","add-unique","toggle"].includes(e),In=".*+?^${}()|[]\\",On=Object.keys(vt);var Gn=ze({name:"QSelect",inheritAttrs:!1,props:{...Fn,...jt,...vt,modelValue:{required:!0},multiple:Boolean,displayValue:[String,Number],displayValueHtml:Boolean,dropdownIcon:String,options:{type:Array,default:()=>[]},optionValue:[Function,String],optionLabel:[Function,String],optionDisable:[Function,String],hideSelected:Boolean,hideDropdownIcon:Boolean,fillInput:Boolean,maxValues:[Number,String],optionsDense:Boolean,optionsDark:{type:Boolean,default:null},optionsSelectedClass:String,optionsHtml:Boolean,optionsCover:Boolean,menuShrink:Boolean,menuAnchor:String,menuSelf:String,menuOffset:Array,popupContentClass:String,popupContentStyle:[String,Array,Object],useInput:Boolean,useChips:Boolean,newValueMode:{type:String,validator:Wt},mapOptions:Boolean,emitValue:Boolean,inputDebounce:{type:[Number,String],default:500},inputClass:[Array,String,Object],inputStyle:[Array,String,Object],tabindex:{type:[String,Number],default:0},autocomplete:String,transitionShow:String,transitionHide:String,transitionDuration:[String,Number],behavior:{type:String,validator:e=>["default","menu","dialog"].includes(e),default:"default"},virtualScrollItemSize:{type:[Number,String],default:void 0},onNewValue:Function,onFilter:Function},emits:[...Nt,"add","remove","inputValue","newValue","keyup","keypress","keydown","filterAbort"],setup(e,{slots:n,emit:l}){const{proxy:o}=fe(),{$q:a}=o,u=H(!1),r=H(!1),h=H(-1),m=H(""),y=H(!1),s=H(!1);let w=null,x=null,c,S,L,k=null,$,Q,_,B;const O=H(null),M=H(null),z=H(null),D=H(null),K=H(null),G=Fl(e),Y=Hl(Vt),V=b(()=>Array.isArray(e.options)?e.options.length:0),j=b(()=>e.virtualScrollItemSize===void 0?e.optionsDense===!0?24:48:e.virtualScrollItemSize),{virtualScrollSliceRange:te,virtualScrollSliceSizeComputed:ie,localResetVirtualScroll:N,padVirtualScroll:de,onVirtualScrollEvt:le,scrollTo:Z,setVirtualScrollSize:ne}=Hn({virtualScrollLength:V,getVirtualScrollTarget:yl,getVirtualScrollEl:kt,virtualScrollItemSizeComputed:j}),i=Ut(),v=b(()=>{const t=e.mapOptions===!0&&e.multiple!==!0,g=e.modelValue!==void 0&&(e.modelValue!==null||t===!0)?e.multiple===!0&&Array.isArray(e.modelValue)?e.modelValue:[e.modelValue]:[];if(e.mapOptions===!0&&Array.isArray(e.options)===!0){const f=e.mapOptions===!0&&c!==void 0?c:[],T=g.map(P=>bl(P,f));return e.modelValue===null&&t===!0?T.filter(P=>P!==null):T}return g}),A=b(()=>{const t={};return On.forEach(g=>{const f=e[g];f!==void 0&&(t[g]=f)}),t}),F=b(()=>e.optionsDark===null?i.isDark.value:e.optionsDark),C=b(()=>Bt(v.value)),q=b(()=>{let t="q-field__input q-placeholder col";return e.hideSelected===!0||v.value.length===0?[t,e.inputClass]:(t+=" q-field__input--padding",e.inputClass===void 0?t:[t,e.inputClass])}),E=b(()=>(e.virtualScrollHorizontal===!0?"q-virtual-scroll--horizontal":"")+(e.popupContentClass?" "+e.popupContentClass:"")),R=b(()=>V.value===0),d=b(()=>v.value.map(t=>ee.value(t)).join(", ")),U=b(()=>e.displayValue!==void 0?e.displayValue:d.value),ue=b(()=>e.optionsHtml===!0?()=>!0:t=>t!=null&&t.html===!0),xe=b(()=>e.displayValueHtml===!0||e.displayValue===void 0&&(e.optionsHtml===!0||v.value.some(ue.value))),ae=b(()=>i.focused.value===!0?e.tabindex:-1),Re=b(()=>{const t={tabindex:e.tabindex,role:"combobox","aria-label":e.label,"aria-readonly":e.readonly===!0?"true":"false","aria-autocomplete":e.useInput===!0?"list":"none","aria-expanded":u.value===!0?"true":"false","aria-controls":`${i.targetUid.value}_lb`};return h.value>=0&&(t["aria-activedescendant"]=`${i.targetUid.value}_${h.value}`),t}),ve=b(()=>({id:`${i.targetUid.value}_lb`,role:"listbox","aria-multiselectable":e.multiple===!0?"true":"false"})),me=b(()=>v.value.map((t,g)=>({index:g,opt:t,html:ue.value(t),selected:!0,removeAtIndex:Sl,toggleOption:he,tabindex:ae.value}))),$e=b(()=>{if(V.value===0)return[];const{from:t,to:g}=te.value;return e.options.slice(t,g).map((f,T)=>{const P=Ce.value(f)===!0,I=lt(f)===!0,X=t+T,W={clickable:!0,active:I,activeClass:He.value,manualFocus:!0,focused:!1,disable:P,tabindex:-1,dense:e.optionsDense,dark:F.value,role:"option","aria-selected":I===!0?"true":"false",id:`${i.targetUid.value}_${X}`,onClick:()=>{he(f)}};return P!==!0&&(h.value===X&&(W.focused=!0),a.platform.is.desktop===!0&&(W.onMousemove=()=>{u.value===!0&&ke(X)})),{index:X,opt:f,html:ue.value(f),label:ee.value(f),selected:W.active,focused:W.focused,toggleOption:he,setOptionIndex:ke,itemProps:W}})}),Fe=b(()=>e.dropdownIcon!==void 0?e.dropdownIcon:a.iconSet.arrow.dropdown),Ze=b(()=>e.optionsCover===!1&&e.outlined!==!0&&e.standout!==!0&&e.borderless!==!0&&e.rounded!==!0),He=b(()=>e.optionsSelectedClass!==void 0?e.optionsSelectedClass:e.color!==void 0?`text-${e.color}`:""),re=b(()=>tt(e.optionValue,"value")),ee=b(()=>tt(e.optionLabel,"label")),Ce=b(()=>tt(e.optionDisable,"disable")),De=b(()=>v.value.map(t=>re.value(t))),gl=b(()=>{const t={onInput:Vt,onChange:Y,onKeydown:Ct,onKeyup:wt,onKeypress:xt,onFocus:bt,onClick(g){S===!0&&Te(g)}};return t.onCompositionstart=t.onCompositionupdate=t.onCompositionend=Y,t});J(v,t=>{c=t,e.useInput===!0&&e.fillInput===!0&&e.multiple!==!0&&i.innerLoading.value!==!0&&(r.value!==!0&&u.value!==!0||C.value!==!0)&&(L!==!0&&Ee(),(r.value===!0||u.value===!0)&&qe(""))},{immediate:!0}),J(()=>e.fillInput,Ee),J(u,nt),J(V,Bl);function gt(t){return e.emitValue===!0?re.value(t):t}function et(t){if(t>-1&&t<v.value.length)if(e.multiple===!0){const g=e.modelValue.slice();l("remove",{index:t,value:g.splice(t,1)[0]}),l("update:modelValue",g)}else l("update:modelValue",null)}function Sl(t){et(t),i.focus()}function St(t,g){const f=gt(t);if(e.multiple!==!0){e.fillInput===!0&&Ie(ee.value(t),!0,!0),l("update:modelValue",f);return}if(v.value.length===0){l("add",{index:0,value:f}),l("update:modelValue",e.multiple===!0?[f]:f);return}if(g===!0&&lt(t)===!0||e.maxValues!==void 0&&e.modelValue.length>=e.maxValues)return;const T=e.modelValue.slice();l("add",{index:T.length,value:f}),T.push(f),l("update:modelValue",T)}function he(t,g){if(i.editable.value!==!0||t===void 0||Ce.value(t)===!0)return;const f=re.value(t);if(e.multiple!==!0){g!==!0&&(Ie(e.fillInput===!0?ee.value(t):"",!0,!0),ge()),M.value!==null&&M.value.focus(),(v.value.length===0||Oe(re.value(v.value[0]),f)!==!0)&&l("update:modelValue",e.emitValue===!0?f:t);return}if((S!==!0||y.value===!0)&&i.focus(),bt(),v.value.length===0){const I=e.emitValue===!0?f:t;l("add",{index:0,value:I}),l("update:modelValue",e.multiple===!0?[I]:I);return}const T=e.modelValue.slice(),P=De.value.findIndex(I=>Oe(I,f));if(P>-1)l("remove",{index:P,value:T.splice(P,1)[0]});else{if(e.maxValues!==void 0&&T.length>=e.maxValues)return;const I=e.emitValue===!0?f:t;l("add",{index:T.length,value:I}),T.push(I)}l("update:modelValue",T)}function ke(t){if(a.platform.is.desktop!==!0)return;const g=t>-1&&t<V.value?t:-1;h.value!==g&&(h.value=g)}function We(t=1,g){if(u.value===!0){let f=h.value;do f=Ft(f+t,-1,V.value-1);while(f!==-1&&f!==h.value&&Ce.value(e.options[f])===!0);h.value!==f&&(ke(f),Z(f),g!==!0&&e.useInput===!0&&e.fillInput===!0&&je(f>=0?ee.value(e.options[f]):$,!0))}}function bl(t,g){const f=T=>Oe(re.value(T),t);return e.options.find(f)||g.find(f)||t}function tt(t,g){const f=t!==void 0?t:g;return typeof f=="function"?f:T=>T!==null&&typeof T=="object"&&f in T?T[f]:T}function lt(t){const g=re.value(t);return De.value.find(f=>Oe(f,g))!==void 0}function bt(t){e.useInput===!0&&M.value!==null&&(t===void 0||M.value===t.target&&t.target.value===d.value)&&M.value.select()}function yt(t){ht(t,27)===!0&&u.value===!0&&(Te(t),ge(),Ee()),l("keyup",t)}function wt(t){const{value:g}=t.target;if(t.keyCode!==void 0){yt(t);return}if(t.target.value="",w!==null&&(clearTimeout(w),w=null),x!==null&&(clearTimeout(x),x=null),Ee(),typeof g=="string"&&g.length!==0){const f=g.toLocaleLowerCase(),T=I=>{const X=e.options.find(W=>I.value(W).toLocaleLowerCase()===f);return X===void 0?!1:(v.value.indexOf(X)===-1?he(X):ge(),!0)},P=I=>{T(re)!==!0&&(T(ee)===!0||I===!0||qe(g,!0,()=>P(!0)))};P()}else i.clearValue(t)}function xt(t){l("keypress",t)}function Ct(t){if(l("keydown",t),en(t)===!0)return;const g=m.value.length!==0&&(e.newValueMode!==void 0||e.onNewValue!==void 0),f=t.shiftKey!==!0&&e.multiple!==!0&&(h.value>-1||g===!0);if(t.keyCode===27){Le(t);return}if(t.keyCode===9&&f===!1){Ve();return}if(t.target===void 0||t.target.id!==i.targetUid.value||i.editable.value!==!0)return;if(t.keyCode===40&&i.innerLoading.value!==!0&&u.value===!1){ce(t),pe();return}if(t.keyCode===8&&(e.useChips===!0||e.clearable===!0)&&e.hideSelected!==!0&&m.value.length===0){e.multiple===!0&&Array.isArray(e.modelValue)===!0?et(e.modelValue.length-1):e.multiple!==!0&&e.modelValue!==null&&l("update:modelValue",null);return}(t.keyCode===35||t.keyCode===36)&&(typeof m.value!="string"||m.value.length===0)&&(ce(t),h.value=-1,We(t.keyCode===36?1:-1,e.multiple)),(t.keyCode===33||t.keyCode===34)&&ie.value!==void 0&&(ce(t),h.value=Math.max(-1,Math.min(V.value,h.value+(t.keyCode===33?-1:1)*ie.value.view)),We(t.keyCode===33?1:-1,e.multiple)),(t.keyCode===38||t.keyCode===40)&&(ce(t),We(t.keyCode===38?-1:1,e.multiple));const T=V.value;if((_===void 0||B<Date.now())&&(_=""),T>0&&e.useInput!==!0&&t.key!==void 0&&t.key.length===1&&t.altKey===!1&&t.ctrlKey===!1&&t.metaKey===!1&&(t.keyCode!==32||_.length!==0)){u.value!==!0&&pe(t);const P=t.key.toLocaleLowerCase(),I=_.length===1&&_[0]===P;B=Date.now()+1500,I===!1&&(ce(t),_+=P);const X=new RegExp("^"+_.split("").map(ot=>In.indexOf(ot)>-1?"\\"+ot:ot).join(".*"),"i");let W=h.value;if(I===!0||W<0||X.test(ee.value(e.options[W]))!==!0)do W=Ft(W+1,-1,T-1);while(W!==h.value&&(Ce.value(e.options[W])===!0||X.test(ee.value(e.options[W]))!==!0));h.value!==W&&se(()=>{ke(W),Z(W),W>=0&&e.useInput===!0&&e.fillInput===!0&&je(ee.value(e.options[W]),!0)});return}if(!(t.keyCode!==13&&(t.keyCode!==32||e.useInput===!0||_!=="")&&(t.keyCode!==9||f===!1))){if(t.keyCode!==9&&ce(t),h.value>-1&&h.value<T){he(e.options[h.value]);return}if(g===!0){const P=(I,X)=>{if(X){if(Wt(X)!==!0)return}else X=e.newValueMode;if(Ie("",e.multiple!==!0,!0),I==null)return;(X==="toggle"?he:St)(I,X==="add-unique"),e.multiple!==!0&&(M.value!==null&&M.value.focus(),ge())};if(e.onNewValue!==void 0?l("newValue",m.value,P):P(m.value),e.multiple!==!0)return}u.value===!0?Ve():i.innerLoading.value!==!0&&pe()}}function kt(){return S===!0?K.value:z.value!==null&&z.value.contentEl!==null?z.value.contentEl:void 0}function yl(){return kt()}function wl(){return e.hideSelected===!0?[]:n["selected-item"]!==void 0?me.value.map(t=>n["selected-item"](t)).slice():n.selected!==void 0?[].concat(n.selected()):e.useChips===!0?me.value.map((t,g)=>p(_n,{key:"option-"+g,removable:i.editable.value===!0&&Ce.value(t.opt)!==!0,dense:!0,textColor:e.color,tabindex:ae.value,onRemove(){t.removeAtIndex(g)}},()=>p("span",{class:"ellipsis",[t.html===!0?"innerHTML":"textContent"]:ee.value(t.opt)}))):[p("span",{[xe.value===!0?"innerHTML":"textContent"]:U.value})]}function qt(){if(R.value===!0)return n["no-option"]!==void 0?n["no-option"]({inputValue:m.value}):void 0;const t=n.option!==void 0?n.option:f=>p(an,{key:f.index,...f.itemProps},()=>p(un,()=>p(Bn,()=>p("span",{[f.html===!0?"innerHTML":"textContent"]:f.label}))));let g=de("div",$e.value.map(t));return n["before-options"]!==void 0&&(g=n["before-options"]().concat(g)),Gt(n["after-options"],g)}function xl(t,g){const f=g===!0?{...Re.value,...i.splitAttrs.attributes.value}:void 0,T={ref:g===!0?M:void 0,key:"i_t",class:q.value,style:e.inputStyle,value:m.value!==void 0?m.value:"",type:"search",...f,id:g===!0?i.targetUid.value:void 0,maxlength:e.maxlength,autocomplete:e.autocomplete,"data-autofocus":t===!0||e.autofocus===!0||void 0,disabled:e.disable===!0,readonly:e.readonly===!0,...gl.value};return t!==!0&&S===!0&&(Array.isArray(T.class)===!0?T.class=[...T.class,"no-pointer-events"]:T.class+=" no-pointer-events"),p("input",T)}function Vt(t){w!==null&&(clearTimeout(w),w=null),x!==null&&(clearTimeout(x),x=null),!(t&&t.target&&t.target.qComposing===!0)&&(je(t.target.value||""),L=!0,$=m.value,i.focused.value!==!0&&(S!==!0||y.value===!0)&&i.focus(),e.onFilter!==void 0&&(w=setTimeout(()=>{w=null,qe(m.value)},e.inputDebounce)))}function je(t,g){m.value!==t&&(m.value=t,g===!0||e.inputDebounce===0||e.inputDebounce==="0"?l("inputValue",t):x=setTimeout(()=>{x=null,l("inputValue",t)},e.inputDebounce))}function Ie(t,g,f){L=f!==!0,e.useInput===!0&&(je(t,!0),(g===!0||f!==!0)&&($=t),g!==!0&&qe(t))}function qe(t,g,f){if(e.onFilter===void 0||g!==!0&&i.focused.value!==!0)return;i.innerLoading.value===!0?l("filterAbort"):(i.innerLoading.value=!0,s.value=!0),t!==""&&e.multiple!==!0&&v.value.length!==0&&L!==!0&&t===ee.value(v.value[0])&&(t="");const T=setTimeout(()=>{u.value===!0&&(u.value=!1)},10);k!==null&&clearTimeout(k),k=T,l("filter",t,(P,I)=>{(g===!0||i.focused.value===!0)&&k===T&&(clearTimeout(k),typeof P=="function"&&P(),s.value=!1,se(()=>{i.innerLoading.value=!1,i.editable.value===!0&&(g===!0?u.value===!0&&ge():u.value===!0?nt(!0):u.value=!0),typeof I=="function"&&se(()=>{I(o)}),typeof f=="function"&&se(()=>{f(o)})}))},()=>{i.focused.value===!0&&k===T&&(clearTimeout(k),i.innerLoading.value=!1,s.value=!1),u.value===!0&&(u.value=!1)})}function Cl(){return p(En,{ref:z,class:E.value,style:e.popupContentStyle,modelValue:u.value,fit:e.menuShrink!==!0,cover:e.optionsCover===!0&&R.value!==!0&&e.useInput!==!0,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,dark:F.value,noParentEvent:!0,noRefocus:!0,noFocus:!0,square:Ze.value,transitionShow:e.transitionShow,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,separateClosePopup:!0,...ve.value,onScrollPassive:le,onBeforeShow:Et,onBeforeHide:kl,onShow:ql},qt)}function kl(t){At(t),Ve()}function ql(){ne()}function Vl(t){Te(t),M.value!==null&&M.value.focus(),y.value=!0,window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,0)}function pl(t){Te(t),se(()=>{y.value=!1})}function El(){const t=[p(An,{class:`col-auto ${i.fieldClass.value}`,...A.value,for:i.targetUid.value,dark:F.value,square:!0,loading:s.value,itemAligned:!1,filled:!0,stackLabel:m.value.length!==0,...i.splitAttrs.listeners.value,onFocus:Vl,onBlur:pl},{...n,rawControl:()=>i.getControl(!0),before:void 0,after:void 0})];return u.value===!0&&t.push(p("div",{ref:K,class:E.value+" scroll",style:e.popupContentStyle,...ve.value,onClick:Le,onScrollPassive:le},qt())),p(bn,{ref:D,modelValue:r.value,position:e.useInput===!0?"top":void 0,transitionShow:Q,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,onBeforeShow:Et,onBeforeHide:Al,onHide:Tl,onShow:_l},()=>p("div",{class:"q-select__dialog"+(F.value===!0?" q-select__dialog--dark q-dark":"")+(y.value===!0?" q-select__dialog--focused":"")},t))}function Al(t){At(t),D.value!==null&&D.value.__updateRefocusTarget(i.rootRef.value.querySelector(".q-field__native > [tabindex]:last-child")),i.focused.value=!1}function Tl(t){ge(),i.focused.value===!1&&l("blur",t),Ee()}function _l(){const t=document.activeElement;(t===null||t.id!==i.targetUid.value)&&M.value!==null&&M.value!==t&&M.value.focus(),ne()}function Ve(){r.value!==!0&&(h.value=-1,u.value===!0&&(u.value=!1),i.focused.value===!1&&(k!==null&&(clearTimeout(k),k=null),i.innerLoading.value===!0&&(l("filterAbort"),i.innerLoading.value=!1,s.value=!1)))}function pe(t){i.editable.value===!0&&(S===!0?(i.onControlFocusin(t),r.value=!0,se(()=>{i.focus()})):i.focus(),e.onFilter!==void 0?qe(m.value):(R.value!==!0||n["no-option"]!==void 0)&&(u.value=!0))}function ge(){r.value=!1,Ve()}function Ee(){e.useInput===!0&&Ie(e.multiple!==!0&&e.fillInput===!0&&v.value.length!==0&&ee.value(v.value[0])||"",!0,!0)}function nt(t){let g=-1;if(t===!0){if(v.value.length!==0){const f=re.value(v.value[0]);g=e.options.findIndex(T=>Oe(re.value(T),f))}N(g)}ke(g)}function Bl(t,g){u.value===!0&&i.innerLoading.value===!1&&(N(-1,!0),se(()=>{u.value===!0&&i.innerLoading.value===!1&&(t>g?N():nt(!0))}))}function pt(){r.value===!1&&z.value!==null&&z.value.updatePosition()}function Et(t){t!==void 0&&Te(t),l("popupShow",t),i.hasPopupOpen=!0,i.onControlFocusin(t)}function At(t){t!==void 0&&Te(t),l("popupHide",t),i.hasPopupOpen=!1,i.onControlFocusout(t)}function Tt(){S=a.platform.is.mobile!==!0&&e.behavior!=="dialog"?!1:e.behavior!=="menu"&&(e.useInput===!0?n["no-option"]!==void 0||e.onFilter!==void 0||R.value===!1:!0),Q=a.platform.is.ios===!0&&S===!0&&e.useInput===!0?"fade":e.transitionShow}return Jl(Tt),Zl(pt),Tt(),we(()=>{w!==null&&clearTimeout(w),x!==null&&clearTimeout(x)}),Object.assign(o,{showPopup:pe,hidePopup:ge,removeAtIndex:et,add:St,toggleOption:he,getOptionIndex:()=>h.value,setOptionIndex:ke,moveOptionSelection:We,filter:qe,updateMenuPosition:pt,updateInputValue:Ie,isOptionSelected:lt,getEmittingOptionValue:gt,isOptionDisabled:(...t)=>Ce.value.apply(null,t)===!0,getOptionValue:(...t)=>re.value.apply(null,t),getOptionLabel:(...t)=>ee.value.apply(null,t)}),Object.assign(i,{innerValue:v,fieldClass:b(()=>`q-select q-field--auto-height q-select--with${e.useInput!==!0?"out":""}-input q-select--with${e.useChips!==!0?"out":""}-chips q-select--${e.multiple===!0?"multiple":"single"}`),inputRef:O,targetRef:M,hasValue:C,showPopup:pe,floatingLabel:b(()=>e.hideSelected!==!0&&C.value===!0||typeof m.value=="number"||m.value.length!==0||Bt(e.displayValue)),getControlChild:()=>{if(i.editable.value!==!1&&(r.value===!0||R.value!==!0||n["no-option"]!==void 0))return S===!0?El():Cl();i.hasPopupOpen===!0&&(i.hasPopupOpen=!1)},controlEvents:{onFocusin(t){i.onControlFocusin(t)},onFocusout(t){i.onControlFocusout(t,()=>{Ee(),Ve()})},onClick(t){if(Le(t),S!==!0&&u.value===!0){Ve(),M.value!==null&&M.value.focus();return}pe(t)}},getControl:t=>{const g=wl(),f=t===!0||r.value!==!0||S!==!0;if(e.useInput===!0)g.push(xl(t,f));else if(i.editable.value===!0){const P=f===!0?Re.value:void 0;g.push(p("input",{ref:f===!0?M:void 0,key:"d_t",class:"q-select__focus-target",id:f===!0?i.targetUid.value:void 0,value:U.value,readonly:!0,"data-autofocus":t===!0||e.autofocus===!0||void 0,...P,onKeydown:Ct,onKeyup:yt,onKeypress:xt})),f===!0&&typeof e.autocomplete=="string"&&e.autocomplete.length!==0&&g.push(p("input",{class:"q-select__autocomplete-input",autocomplete:e.autocomplete,tabindex:-1,onKeyup:wt}))}if(G.value!==void 0&&e.disable!==!0&&De.value.length!==0){const P=De.value.map(I=>p("option",{value:I,selected:!0}));g.push(p("select",{class:"hidden",name:G.value,multiple:e.multiple},P))}const T=e.useInput===!0||f!==!0?void 0:i.splitAttrs.attributes.value;return p("div",{class:"q-field__native row items-center",...T,...i.splitAttrs.listeners.value},g)},getInnerAppend:()=>e.loading!==!0&&s.value!==!0&&e.hideDropdownIcon!==!0?[p(Qe,{class:"q-select__dropdown-icon"+(u.value===!0?" rotate-180":""),name:Fe.value})]:null}),Qt(i)}});export{bn as Q,Kn as a,Nn as b,yn as c,wn as d,En as e,Gn as f,Qn as g,Un as h,Fn as i,Hn as j,Xn as k,jn as u};
