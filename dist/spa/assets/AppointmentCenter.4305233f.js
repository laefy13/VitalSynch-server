import{Q as f}from"./QBtn.af30826c.js";import{c as $,h as A,Q as D}from"./use-router-link.cd4a8d0e.js";import{j as q,h as S,r as d,D as B,_ as T,ae as x,o as g,d as I,e as l,f as t,w as a,b1 as U,g as i,aJ as V,p as Q,S as h}from"./index.b97f7fcb.js";import{Q as P}from"./QInput.c8a43e23.js";import{Q as k,h as y}from"./QItemSection.45a0d9dc.js";import{Q as j}from"./QList.34c0f73a.js";import{e as F}from"./QSelect.d7be32bf.js";import{Q as M,a as C}from"./QTr.54815683.js";import{F as _,a as E}from"./index.6aab7db1.js";import{C as N}from"./ClosePopup.d6dca8a5.js";import"./use-key-composition.3ca68c99.js";import"./option-sizes.c128ce7c.js";import"./selection.9064d2eb.js";import"./QSeparator.2695debe.js";import"./axios.5dcbc206.js";const J=q("div",{class:"q-space"});var L=$({name:"QSpace",setup(){return()=>J}}),R=$({name:"QToolbar",props:{inset:Boolean},setup(o,{slots:n}){const r=S(()=>"q-toolbar row no-wrap items-center"+(o.inset===!0?" q-toolbar--inset":""));return()=>q("div",{class:r.value,role:"toolbar"},A(n.default))}}),z={setup(){const o=[{name:"patientName",label:"Patient Name",align:"left",field:"patientName"},{name:"department",label:"Department",align:"left",field:"department"},{name:"status",label:"Status",align:"left",field:"status"},{name:"doctor",label:"Doctor",align:"left",field:"assignedDoctor"},{name:"appointment",label:"Appointment",align:"left",field:e=>`${e.time}, ${e.date}`},{name:"action",label:"Actions",align:"left",field:"action"}],n=d([]),r=d([]),p=d([]),b=async()=>{let e=await _("patients");r.value=e.data},v=async()=>{let e=await _("doctors");p.value=e.data},m=async()=>{await Promise.all([b(),v()]);let e=await _("appointments");n.value=e.data.map(c=>{const s=r.value.find(u=>u.id===c.patientId),w=p.value.find(u=>u.doctorName===c.assignedDoctor);return{...c,patientName:s?s.patientName:"Unknown",department:s?s.department:"Unknown",status:s?s.status:"Unknown",doctor:w?w.doctorName:"Unknown"}}),console.log("rows",n)};return B(async()=>{m()}),{columns:o,rows:n,filter:d("")}}};const G={class:"appointment q-py-xl"},H={class:"row"},K={class:"flex justifty-start items-center q-mt- q-mb-lg gt-xs col"},O=l("h5",{class:"text-26 text-bold q-my-none q-ml-md page-header"}," Appointment Center ",-1),W={class:"flex justify-end col"},X={class:"table-menu"};function Y(o,n,r,p,b,v){const m=x("h7");return g(),I("div",G,[l("div",H,[l("div",K,[t(f,{onClick:n[0]||(n[0]=e=>o.$router.go(-1)),round:"",dense:"",flat:"",icon:"arrow_back"}),O]),l("div",W,[t(f,{"no-caps":"",class:"q-ma-md text-black text-bold shadow-1",color:"primary",onClick:n[1]||(n[1]=e=>o.$router.push({name:"add-appointment"}))},{default:a(()=>[i("Book Consultation")]),_:1})])]),l("div",null,[t(E,{rows:o.rows,columns:o.columns,pagination:o.pagination,"onUpdate:pagination":n[3]||(n[3]=e=>o.pagination=e),filter:o.filter,title:"Appointments","row-key":"id",class:"gt-xs",flat:""},U({top:a(()=>[t(R,{class:"bg-primary"},{default:a(()=>[t(m,{class:"text-bold"},{default:a(()=>[i("Appointments Total ("+V(o.rows.length)+")",1)]),_:1}),t(L),t(P,{borderless:"",dense:"",debounce:"300",modelValue:o.filter,"onUpdate:modelValue":n[2]||(n[2]=e=>o.filter=e),placeholder:"Search"},{append:a(()=>[t(D,{name:"search"})]),_:1},8,["modelValue"])]),_:1})]),"body-cell-action":a(e=>[t(C,{props:e},{default:a(()=>[l("div",X,[t(f,{icon:"more_vert",class:"",flat:"",round:""}),t(F,{class:"menu-container"},{default:a(()=>[t(j,null,{default:a(()=>[Q((g(),h(y,{clickable:"",to:{name:"add-new-range",params:{id:e.row.id}},class:"menu-list"},{default:a(()=>[t(k,null,{default:a(()=>[i("Re-schedule")]),_:1})]),_:2},1032,["to"])),[[N]]),Q((g(),h(y,{clickable:"",class:"menu-list"},{default:a(()=>[t(k,null,{default:a(()=>[i("Cancel")]),_:1})]),_:1})),[[N]])]),_:2},1024)]),_:2},1024)])]),_:2},1032,["props"])]),_:2},[o.rows.length?void 0:{name:"bottom-row",fn:a(()=>[t(M,null,{default:a(()=>[t(C,{colspan:"100%",class:"text-center"},{default:a(()=>[i(" No Data Available ")]),_:1})]),_:1})]),key:"0"}]),1032,["rows","columns","pagination","filter"])])])}var fe=T(z,[["render",Y]]);export{fe as default};
