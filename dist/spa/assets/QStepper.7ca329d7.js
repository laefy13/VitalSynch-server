import{C as ne,j as f,T as Y,r as $,h,p as re,k as N,c as w,n as ae,W as oe,t as I,X as B,y as W,F as D,v as L,z as ie,A as se,Y as H,J as le,Z as Q,$ as U,a0 as ue}from"./index.b97f7fcb.js";import{c as T,Q as ce,R as ve,g as de,i as pe,h as x,e as fe,j as me}from"./use-router-link.cd4a8d0e.js";import{u as he,a as ge}from"./use-key-composition.3ca68c99.js";import{g as j,s as M}from"./touch.3df10340.js";import{c as be}from"./selection.9064d2eb.js";var ye=T({name:"QSlideTransition",props:{appear:Boolean,duration:{type:Number,default:300}},emits:["show","hide"],setup(e,{slots:n,emit:v}){let d=!1,o,t,r=null,l=null,m,y;function c(){o&&o(),o=null,d=!1,r!==null&&(clearTimeout(r),r=null),l!==null&&(clearTimeout(l),l=null),t!==void 0&&t.removeEventListener("transitionend",m),m=null}function g(i,a,u){a!==void 0&&(i.style.height=`${a}px`),i.style.transition=`height ${e.duration}ms cubic-bezier(.25, .8, .50, 1)`,d=!0,o=u}function p(i,a){i.style.overflowY=null,i.style.height=null,i.style.transition=null,c(),a!==y&&v(a)}function _(i,a){let u=0;t=i,d===!0?(c(),u=i.offsetHeight===i.scrollHeight?0:void 0):(y="hide",i.style.overflowY="hidden"),g(i,u,a),r=setTimeout(()=>{r=null,i.style.height=`${i.scrollHeight}px`,m=S=>{l=null,(Object(S)!==S||S.target===i)&&p(i,"show")},i.addEventListener("transitionend",m),l=setTimeout(m,e.duration*1.1)},100)}function C(i,a){let u;t=i,d===!0?c():(y="show",i.style.overflowY="hidden",u=i.scrollHeight),g(i,u,a),r=setTimeout(()=>{r=null,i.style.height=0,m=S=>{l=null,(Object(S)!==S||S.target===i)&&p(i,"hide")},i.addEventListener("transitionend",m),l=setTimeout(m,e.duration*1.1)},100)}return ne(()=>{d===!0&&c()}),()=>f(Y,{css:!1,appear:e.appear,onEnter:_,onLeave:C},n.default)}}),O=T({name:"StepHeader",props:{stepper:{},step:{},goToPanel:Function},setup(e,{attrs:n}){const{proxy:{$q:v}}=N(),d=$(null),o=h(()=>e.stepper.modelValue===e.step.name),t=h(()=>{const a=e.step.disable;return a===!0||a===""}),r=h(()=>{const a=e.step.error;return a===!0||a===""}),l=h(()=>{const a=e.step.done;return t.value===!1&&(a===!0||a==="")}),m=h(()=>{const a=e.step.headerNav,u=a===!0||a===""||a===void 0;return t.value===!1&&e.stepper.headerNav&&u}),y=h(()=>e.step.prefix&&(o.value===!1||e.stepper.activeIcon==="none")&&(r.value===!1||e.stepper.errorIcon==="none")&&(l.value===!1||e.stepper.doneIcon==="none")),c=h(()=>{const a=e.step.icon||e.stepper.inactiveIcon;if(o.value===!0){const u=e.step.activeIcon||e.stepper.activeIcon;return u==="none"?a:u||v.iconSet.stepper.active}if(r.value===!0){const u=e.step.errorIcon||e.stepper.errorIcon;return u==="none"?a:u||v.iconSet.stepper.error}if(t.value===!1&&l.value===!0){const u=e.step.doneIcon||e.stepper.doneIcon;return u==="none"?a:u||v.iconSet.stepper.done}return a}),g=h(()=>{const a=r.value===!0?e.step.errorColor||e.stepper.errorColor:void 0;if(o.value===!0){const u=e.step.activeColor||e.stepper.activeColor||e.step.color;return u!==void 0?u:a}return a!==void 0?a:t.value===!1&&l.value===!0?e.step.doneColor||e.stepper.doneColor||e.step.color||e.stepper.inactiveColor:e.step.color||e.stepper.inactiveColor}),p=h(()=>"q-stepper__tab col-grow flex items-center no-wrap relative-position"+(g.value!==void 0?` text-${g.value}`:"")+(r.value===!0?" q-stepper__tab--error q-stepper__tab--error-with-"+(y.value===!0?"prefix":"icon"):"")+(o.value===!0?" q-stepper__tab--active":"")+(l.value===!0?" q-stepper__tab--done":"")+(m.value===!0?" q-stepper__tab--navigation q-focusable q-hoverable":"")+(t.value===!0?" q-stepper__tab--disabled":"")),_=h(()=>e.stepper.headerNav!==!0?!1:m.value);function C(){d.value!==null&&d.value.focus(),o.value===!1&&e.goToPanel(e.step.name)}function i(a){a.keyCode===13&&o.value===!1&&e.goToPanel(e.step.name)}return()=>{const a={class:p.value};m.value===!0&&(a.onClick=C,a.onKeyup=i,Object.assign(a,t.value===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:n.tabindex||0}));const u=[f("div",{class:"q-focus-helper",tabindex:-1,ref:d}),f("div",{class:"q-stepper__dot row flex-center q-stepper__line relative-position"},[f("span",{class:"row flex-center"},[y.value===!0?e.step.prefix:f(ce,{name:c.value})])])];if(e.step.title!==void 0&&e.step.title!==null){const S=[f("div",{class:"q-stepper__title"},e.step.title)];e.step.caption!==void 0&&e.step.caption!==null&&S.push(f("div",{class:"q-stepper__caption"},e.step.caption)),u.push(f("div",{class:"q-stepper__label q-stepper__line relative-position"},S))}return re(f("div",a,u),[[ve,_.value]])}}});function Se(e){const n=[.06,6,50];return typeof e=="string"&&e.length&&e.split(":").forEach((v,d)=>{const o=parseFloat(v);o&&(n[d]=o)}),n}var _e=de({name:"touch-swipe",beforeMount(e,{value:n,arg:v,modifiers:d}){if(d.mouse!==!0&&w.has.touch!==!0)return;const o=d.mouseCapture===!0?"Capture":"",t={handler:n,sensitivity:Se(v),direction:j(d),noop:ae,mouseStart(r){M(r,t)&&oe(r)&&(I(t,"temp",[[document,"mousemove","move",`notPassive${o}`],[document,"mouseup","end","notPassiveCapture"]]),t.start(r,!0))},touchStart(r){if(M(r,t)){const l=r.target;I(t,"temp",[[l,"touchmove","move","notPassiveCapture"],[l,"touchcancel","end","notPassiveCapture"],[l,"touchend","end","notPassiveCapture"]]),t.start(r)}},start(r,l){w.is.firefox===!0&&B(e,!0);const m=W(r);t.event={x:m.left,y:m.top,time:Date.now(),mouse:l===!0,dir:!1}},move(r){if(t.event===void 0)return;if(t.event.dir!==!1){D(r);return}const l=Date.now()-t.event.time;if(l===0)return;const m=W(r),y=m.left-t.event.x,c=Math.abs(y),g=m.top-t.event.y,p=Math.abs(g);if(t.event.mouse!==!0){if(c<t.sensitivity[1]&&p<t.sensitivity[1]){t.end(r);return}}else if(window.getSelection().toString()!==""){t.end(r);return}else if(c<t.sensitivity[2]&&p<t.sensitivity[2])return;const _=c/l,C=p/l;t.direction.vertical===!0&&c<p&&c<100&&C>t.sensitivity[0]&&(t.event.dir=g<0?"up":"down"),t.direction.horizontal===!0&&c>p&&p<100&&_>t.sensitivity[0]&&(t.event.dir=y<0?"left":"right"),t.direction.up===!0&&c<p&&g<0&&c<100&&C>t.sensitivity[0]&&(t.event.dir="up"),t.direction.down===!0&&c<p&&g>0&&c<100&&C>t.sensitivity[0]&&(t.event.dir="down"),t.direction.left===!0&&c>p&&y<0&&p<100&&_>t.sensitivity[0]&&(t.event.dir="left"),t.direction.right===!0&&c>p&&y>0&&p<100&&_>t.sensitivity[0]&&(t.event.dir="right"),t.event.dir!==!1?(D(r),t.event.mouse===!0&&(document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),be(),t.styleCleanup=i=>{t.styleCleanup=void 0,document.body.classList.remove("non-selectable");const a=()=>{document.body.classList.remove("no-pointer-events--children")};i===!0?setTimeout(a,50):a()}),t.handler({evt:r,touch:t.event.mouse!==!0,mouse:t.event.mouse,direction:t.event.dir,duration:l,distance:{x:c,y:p}})):t.end(r)},end(r){t.event!==void 0&&(L(t,"temp"),w.is.firefox===!0&&B(e,!1),t.styleCleanup!==void 0&&t.styleCleanup(!0),r!==void 0&&t.event.dir!==!1&&D(r),t.event=void 0)}};if(e.__qtouchswipe=t,d.mouse===!0){const r=d.mouseCapture===!0||d.mousecapture===!0?"Capture":"";I(t,"main",[[e,"mousedown","mouseStart",`passive${r}`]])}w.has.touch===!0&&I(t,"main",[[e,"touchstart","touchStart",`passive${d.capture===!0?"Capture":""}`],[e,"touchmove","noop","notPassiveCapture"]])},updated(e,n){const v=e.__qtouchswipe;v!==void 0&&(n.oldValue!==n.value&&(typeof n.value!="function"&&v.end(),v.handler=n.value),v.direction=j(n.modifiers))},beforeUnmount(e){const n=e.__qtouchswipe;n!==void 0&&(L(n,"main"),L(n,"temp"),w.is.firefox===!0&&B(e,!1),n.styleCleanup!==void 0&&n.styleCleanup(),delete e.__qtouchswipe)}});function X(){const e=new Map;return{getCache:function(n,v){return e[n]===void 0?e[n]=v:e[n]},getCacheWithFn:function(n,v){return e[n]===void 0?e[n]=v():e[n]}}}const Ce={name:{required:!0},disable:Boolean},R={setup(e,{slots:n}){return()=>f("div",{class:"q-panel scroll",role:"tabpanel"},x(n.default))}},qe={modelValue:{required:!0},animated:Boolean,infinite:Boolean,swipeable:Boolean,vertical:Boolean,transitionPrev:String,transitionNext:String,transitionDuration:{type:[String,Number],default:300},keepAlive:Boolean,keepAliveInclude:[String,Array,RegExp],keepAliveExclude:[String,Array,RegExp],keepAliveMax:Number},xe=["update:modelValue","beforeTransition","transition"];function Pe(){const{props:e,emit:n,proxy:v}=N(),{getCacheWithFn:d}=X();let o,t;const r=$(null),l=$(null);function m(s){const b=e.vertical===!0?"up":"left";P((v.$q.lang.rtl===!0?-1:1)*(s.direction===b?1:-1))}const y=h(()=>[[_e,m,void 0,{horizontal:e.vertical!==!0,vertical:e.vertical,mouse:!0}]]),c=h(()=>e.transitionPrev||`slide-${e.vertical===!0?"down":"right"}`),g=h(()=>e.transitionNext||`slide-${e.vertical===!0?"up":"left"}`),p=h(()=>`--q-transition-duration: ${e.transitionDuration}ms`),_=h(()=>typeof e.modelValue=="string"||typeof e.modelValue=="number"?e.modelValue:String(e.modelValue)),C=h(()=>({include:e.keepAliveInclude,exclude:e.keepAliveExclude,max:e.keepAliveMax})),i=h(()=>e.keepAliveInclude!==void 0||e.keepAliveExclude!==void 0);ie(()=>e.modelValue,(s,b)=>{const q=A(s)===!0?E(s):-1;t!==!0&&V(q===-1?0:q<E(b)?-1:1),r.value!==q&&(r.value=q,n("beforeTransition",s,b),se(()=>{n("transition",s,b)}))});function a(){P(1)}function u(){P(-1)}function S(s){n("update:modelValue",s)}function A(s){return s!=null&&s!==""}function E(s){return o.findIndex(b=>b.props.name===s&&b.props.disable!==""&&b.props.disable!==!0)}function Z(){return o.filter(s=>s.props.disable!==""&&s.props.disable!==!0)}function V(s){const b=s!==0&&e.animated===!0&&r.value!==-1?"q-transition--"+(s===-1?c.value:g.value):null;l.value!==b&&(l.value=b)}function P(s,b=r.value){let q=b+s;for(;q>-1&&q<o.length;){const k=o[q];if(k!==void 0&&k.props.disable!==""&&k.props.disable!==!0){V(s),t=!0,n("update:modelValue",k.props.name),setTimeout(()=>{t=!1});return}q+=s}e.infinite===!0&&o.length!==0&&b!==-1&&b!==o.length&&P(s,s===-1?o.length:-1)}function F(){const s=E(e.modelValue);return r.value!==s&&(r.value=s),!0}function K(){const s=A(e.modelValue)===!0&&F()&&o[r.value];return e.keepAlive===!0?[f(H,C.value,[f(i.value===!0?d(_.value,()=>({...R,name:_.value})):R,{key:_.value,style:p.value},()=>s)])]:[f("div",{class:"q-panel scroll",style:p.value,key:_.value,role:"tabpanel"},[s])]}function G(){if(o.length!==0)return e.animated===!0?[f(Y,{name:l.value},K)]:K()}function ee(s){return o=pe(x(s.default,[])).filter(b=>b.props!==null&&b.props.slot===void 0&&A(b.props.name)===!0),o.length}function te(){return o}return Object.assign(v,{next:a,previous:u,goTo:S}),{panelIndex:r,panelDirectives:y,updatePanelsList:ee,updatePanelIndex:F,getPanelContent:G,getEnabledPanels:Z,getPanels:te,isValidPanelName:A,keepAliveProps:C,needsUniqueKeepAliveWrapper:i,goToPanelByOffset:P,goToPanel:S,nextPanel:a,previousPanel:u}}function J(e){return f("div",{class:"q-stepper__step-content"},[f("div",{class:"q-stepper__step-inner"},x(e.default))])}const z={setup(e,{slots:n}){return()=>J(n)}};var Ee=T({name:"QStep",props:{...Ce,icon:String,color:String,title:{type:String,required:!0},caption:String,prefix:[String,Number],doneIcon:String,doneColor:String,activeIcon:String,activeColor:String,errorIcon:String,errorColor:String,headerNav:{type:Boolean,default:!0},done:Boolean,error:Boolean,onScroll:[Function,Array]},setup(e,{slots:n,emit:v}){const{proxy:{$q:d}}=N(),o=le(U,Q);if(o===Q)return console.error("QStep needs to be a child of QStepper"),Q;const{getCacheWithFn:t}=X(),r=$(null),l=h(()=>o.value.modelValue===e.name),m=h(()=>d.platform.is.ios!==!0&&d.platform.is.chrome===!0||l.value!==!0||o.value.vertical!==!0?{}:{onScroll(g){const{target:p}=g;p.scrollTop>0&&(p.scrollTop=0),e.onScroll!==void 0&&v("scroll",g)}}),y=h(()=>typeof e.name=="string"||typeof e.name=="number"?e.name:String(e.name));function c(){const g=o.value.vertical;return g===!0&&o.value.keepAlive===!0?f(H,o.value.keepAliveProps.value,l.value===!0?[f(o.value.needsUniqueKeepAliveWrapper.value===!0?t(y.value,()=>({...z,name:y.value})):z,{key:y.value},n.default)]:void 0):g!==!0||l.value===!0?J(n):void 0}return()=>f("div",{ref:r,class:"q-stepper__step",role:"tabpanel",...m.value},o.value.vertical===!0?[f(O,{stepper:o.value,step:e,goToPanel:o.value.goToPanel}),o.value.animated===!0?f(ye,c):c()]:[c()])}}),Be=T({name:"QStepperNavigation",setup(e,{slots:n}){return()=>f("div",{class:"q-stepper__nav"},x(n.default))}});const we=/(-\w)/g;function Te(e){const n={};for(const v in e){const d=v.replace(we,o=>o[1].toUpperCase());n[d]=e[v]}return n}var De=T({name:"QStepper",props:{...he,...qe,flat:Boolean,bordered:Boolean,alternativeLabels:Boolean,headerNav:Boolean,contracted:Boolean,headerClass:String,inactiveColor:String,inactiveIcon:String,doneIcon:String,doneColor:String,activeIcon:String,activeColor:String,errorIcon:String,errorColor:String},emits:xe,setup(e,{slots:n}){const v=N(),d=ge(e,v.proxy.$q),{updatePanelsList:o,isValidPanelName:t,updatePanelIndex:r,getPanelContent:l,getPanels:m,panelDirectives:y,goToPanel:c,keepAliveProps:g,needsUniqueKeepAliveWrapper:p}=Pe();ue(U,h(()=>({goToPanel:c,keepAliveProps:g,needsUniqueKeepAliveWrapper:p,...e})));const _=h(()=>`q-stepper q-stepper--${e.vertical===!0?"vertical":"horizontal"}`+(e.flat===!0?" q-stepper--flat":"")+(e.bordered===!0?" q-stepper--bordered":"")+(d.value===!0?" q-stepper--dark q-dark":"")),C=h(()=>`q-stepper__header row items-stretch justify-between q-stepper__header--${e.alternativeLabels===!0?"alternative":"standard"}-labels`+(e.flat===!1||e.bordered===!0?" q-stepper__header--border":"")+(e.contracted===!0?" q-stepper__header--contracted":"")+(e.headerClass!==void 0?` ${e.headerClass}`:""));function i(){const a=x(n.message,[]);if(e.vertical===!0){t(e.modelValue)&&r();const u=f("div",{class:"q-stepper__content"},x(n.default));return a===void 0?[u]:a.concat(u)}return[f("div",{class:C.value},m().map(u=>{const S=Te(u.props);return f(O,{key:S.name,stepper:e,step:S,goToPanel:c})})),a,me("div",{class:"q-stepper__content q-panel-parent"},l(),"cont",e.swipeable,()=>y.value)]}return()=>(o(n),f("div",{class:_.value},fe(n.navigation,i())))}});export{De as Q,Be as a,Ee as b,X as u};
