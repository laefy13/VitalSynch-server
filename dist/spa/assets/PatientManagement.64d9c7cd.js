import{Q as y}from"./QBtn.af30826c.js";import{Q as b,h as v}from"./QItemSection.45a0d9dc.js";import{Q as h}from"./QList.34c0f73a.js";import{e as $}from"./QSelect.d7be32bf.js";import{Q as B,a as Q}from"./QTr.54815683.js";import{F as c,a as P}from"./index.6aab7db1.js";import{C as k}from"./ClosePopup.d6dca8a5.js";import{r as p,D as U,_ as I,o as u,d as S,f as e,b1 as T,w as t,g as f,e as A,p as N,S as D}from"./index.b97f7fcb.js";import"./use-router-link.cd4a8d0e.js";import"./use-key-composition.3ca68c99.js";import"./option-sizes.c128ce7c.js";import"./selection.9064d2eb.js";import"./QSeparator.2695debe.js";import"./axios.5dcbc206.js";var C={setup(){const o=[{name:"patientName",label:"Patient Name",align:"left",field:"patientName"},{name:"department",label:"Department",align:"left",field:"department"},{name:"status",label:"Status",align:"left",field:"status"},{name:"doctor",label:"Doctor",align:"left",field:"assignedDoctor"},{name:"appointment",label:"Appointment",align:"left",field:a=>`${a.time}, ${a.date}`},{name:"options",label:"Options",align:"left",field:"options"}],n=p([]),i=p([]),r=p([]),g=async()=>{let a=await c("patients");i.value=a.data},w=async()=>{let a=await c("doctors");r.value=a.data},s=async()=>{await Promise.all([g(),w()]);let a=await c("appointments");n.value=a.data.map(m=>{const l=i.value.find(d=>d.id===m.patientId),_=r.value.find(d=>d.doctorName===m.assignedDoctor);return{...m,patientName:l?l.patientName:"Unknown",department:l?l.department:"Unknown",status:l?l.status:"Unknown",doctor:_?_.doctorName:"Unknown"}}),console.log("rows",n)};return U(async()=>{s()}),{columns:o,rows:n}}};const M={class:"om-main-scroll table-scroll"},V={class:"table-menu"};function x(o,n,i,r,g,w){return u(),S("div",M,[e(P,{rows:o.rows,columns:o.columns,pagination:o.pagination,"onUpdate:pagination":n[0]||(n[0]=s=>o.pagination=s),"row-key":"id",class:"gt-xs",flat:""},T({"body-cell-action":t(s=>[e(Q,{props:s},{default:t(()=>[A("div",V,[e(y,{icon:"more_vert",class:"",flat:"",round:"",dense:""}),e($,{class:"menu-container"},{default:t(()=>[e(h,null,{default:t(()=>[N((u(),D(v,{clickable:"",to:{name:"add-new-range",params:{id:s.row.id}},class:"menu-list"},{default:t(()=>[e(b,null,{default:t(()=>[f("Edit")]),_:1})]),_:2},1032,["to"])),[[k]]),N((u(),D(v,{clickable:"",class:"menu-list"},{default:t(()=>[e(b,null,{default:t(()=>[f("Delete")]),_:1})]),_:1})),[[k]])]),_:2},1024)]),_:2},1024)])]),_:2},1032,["props"])]),_:2},[o.rows.length?void 0:{name:"bottom-row",fn:t(()=>[e(B,null,{default:t(()=>[e(Q,{colspan:"100%",class:"text-center"},{default:t(()=>[f(" No Data Available ")]),_:1})]),_:1})]),key:"0"}]),1032,["rows","columns","pagination"])])}var Y=I(C,[["render",x]]);export{Y as default};
